@{
    Layout = null;
}
@model StatsModel
<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Stats</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <script>
        $(document).ready(function () {
            var username = '@Model.user.Username';
            console.log(username);
            var dropbtnElement = $('#dropbtn');
            dropbtnElement.text(username); 
            
        });
    </script>
</head>
<style>
    body {
        margin: 0px;
        padding: 0px;
        background-color: black;
        color: white;
    }

    .navbar {
        background-color: #9a413a;
        display: flex;
        justify-content: space-between;
        border-radius: 35px;
        color: white;
        width: 100%;
        padding: 0px;
        z-index: 1;
    }

        .navbar p {
            margin: 25px 0px 20px 20px;
        }

        .navbar .items {
            background-color: #9a413a;
            width: 1100px;
            margin-right: 30px;
            display: inline-block;
        }

            .navbar .items ul {
                display: flex;
                justify-content: space-between;
                list-style-type: none;
            }


            .navbar .items li a {
                text-decoration: none;
                color: white;
                display: inline-block;
                text-align: center;
                padding: 10px 14px;
            }

            .navbar .items .dropdown-content {
                display: none;
                position: absolute;
                background: rgb(58, 57, 57);
                min-width: 110px;
                box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
                z-index: 1;
            }

            .navbar .items li a:hover,
            .dropdown:hover,
            .dropdown-content a:hover {
                background-color: #870505;
            }

            .navbar .items .dropdown-content a {
                color: white;
                padding: 12px 14px;
                text-decoration: none;
                display: block;
                text-align: left;
            }

                .navbar .items .dropdown-content a:hover {
                    background: rgb(136, 20, 20);
                }

            .navbar .items .dropdown:hover .dropdown-content {
                display: block;
            }

            .navbar .items .dropdown {
                display: inline-block;
            }
    th, tr, td {
        padding: 8px;
    }

    h3 {
        margin-top: 2px;
        margin-bottom: 0;
    }

    body {
        font-size =20px;
        background-color: black;
        color: white;
        font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif
    }

    #info {
        position: absolute;
        top: 180px;
        left: 50px;
        background-color: rgba(255, 100, 100, 0.7); /* Semi-transparent background */
        padding: 15px;
        border-radius: 20px;
    }

    #stats {
        position: absolute;
        top: 170px;
        left: 400px;
        width: 600px;
        background-color: rgba(255, 100, 100, 0.7); /* Semi-transparent background */
        padding: 15px;
        border-radius: 20px;
    }

    #map {
        position: absolute;
        top: 170px;
        left: 1130px;
        width: 300px;
        background-color: rgba(255, 100, 100, 0.7); /* Semi-transparent background */
        padding: 15px;
        border-radius: 20px;
    }

    #logo {
        position: absolute;
        top: 460px;
        left: 40px;
        width: 300px;
    }

    #rank {
        background: rgb(113,27,27);
        width: 150px;
        background: linear-gradient(185deg, rgba(113,27,27,1) 0%, rgba(150,0,0,1) 66%, rgba(113,27,27,1) 100%);
        padding: 15px;
        border-radius: 20px;
    }
    #rank img{
        margin-left: 30px;
    }
    #kd {
        background: rgb(113,27,27);
        background: linear-gradient(185deg, rgba(113,27,27,1) 0%, rgba(150,0,0,1) 66%, rgba(113,27,27,1) 100%);
        padding: 15px;
        border-radius: 20px;
    }

    #win {
        background: rgb(113,27,27);
        width: 150px;
        background: linear-gradient(185deg, rgba(113,27,27,1) 0%, rgba(150,0,0,1) 66%, rgba(113,27,27,1) 100%);
        padding: 15px;
        border-radius: 20px;
    }
</style>
<body>
    @{
        Console.WriteLine("For icon retrieval, " + (@Model.player.Fav_agent) + "_icon.png");
        Console.WriteLine("For rank retrieval, " + (@Model.rank.Substring(0, @Model.rank.IndexOf(' '))) + ".png");
    }
    <div id="partialContainer">
        <header>
            <nav class="navbar">
                <p>Valorant Datahub</p>
                <div class="items">
                    <ul>
                        <li><a href="/Homepage/Index?Username=@Model.user.Username">Home</a></li>
                        <li><a href="/Weapon/Index?Username=@Model.user.Username">Weapons</a></li>
                        <li><a href="/Leaderboard/Index?Username=@Model.user.Username">Leaderboards</a></li>
                        <li><a href="/Agent/Index?Username=@Model.user.Username">Agents</a></li>
                        <li><a href="/Map/Index?Username=@Model.user.Username">Maps</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropbtn">Current rotation</a>
                            <div class="dropdown-content">
                                <a href="/MapDisplay/Index?option=ascent&Username=@Model.user.Username">Ascent</a>
                                <a href="/MapDisplay/Index?option=bind&Username=@Model.user.Username">Bind</a>
                                <a href="/MapDisplay/Index?option=Breeze&Username=@Model.user.Username">Breeze</a>
                                <a href="/MapDisplay/Index?option=Icebox&Username=@Model.user.Username">Icebox</a>
                                <a href="/MapDisplay/Index?option=Lotus&Username=@Model.user.Username">Lotus</a>
                                <a href="/MapDisplay/Index?option=Split&Username=@Model.user.Username">Split</a>
                                <a href="/MapDisplay/Index?option=Sunset&Username=@Model.user.Username">Sunset</a>
                            </div>
                        </li>
                        <li class="dropdown">
                            <a class="dropbtn" id="dropbtn" style="padding-right: 4	0px;">Guest Mode</a>
                            <div class="dropdown-content">
                                <a href="/Homepage/Index">Logout</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
    </div>
    <div id="info">
        <h1 style="margin:10px;">Player Info</h1>
        <TABLE>
            <TR>
                <TD>Player ID:</TD>
                <TD>@Model.player.Pid</TD>
            </TR>
            <TR>
                <TD>Username:</TD>
                <TD>@Model.user.Username</TD>
            </TR>
            <TR>
                <TD>Name:</TD>
                <TD>@Model.player.Pname</TD>
            </TR>
            <TR>
                <TD>Location:</TD>
                <TD>@Model.location.City, @Model.location.Country</TD>
            </TR>
        </TABLE>
    </div>
    <div id="stats">
        <h1 style="margin:20px 20px 20px 37px;">Game Stats</h1>

        <TABLE style="width:570px;padding:10px;margin:10px auto;border:2px;">
            <tr>
                <td>
                    <div id="rank">
                        <div style="font-size:20px;">Current Rank</div>
                        <p>@Model.rank</p> <div style="position: absolute; top: 160px; left: 135px;">
                            <img src="~/Images/@(Model.rank.Substring(0, @Model.rank.IndexOf(' '))).png" alt="not found" height="30" />
                            </div>
                    </div>
                </td>
                <td>
                    <div id="kd">
                        <div style="font-size:20px;">K/D Ratio</div>
                        <p>@Model.kd</p>
                    </div>
                </td>
                <td colspan="2">
                    <div id="win">
                        <div style="font-size:20px;">Win Percentage</div>
                        <p>@Model.win_percentage %</p>
                    </div>
                </td>
            </tr>
            <TR>
                <TD style="padding-left:20px;padding-top:20px;">Total Kills: </TD>
                <TD>@Model.player.Kills</TD>
                <TD>MMR: </TD>
                <TD>@Model.player.MMR</TD>
            </TR>
            <TR>
                <TD style="padding-left:20px;">Matches Played: </TD>
                <TD>@Model.Total_Matches</TD>
                <TD>Matches Won: </TD>
                <TD>@Model.Wins</TD>
            </TR>
            <tr style="padding:0px;margin:0px;">
                <td colspan="2" style="padding-left:20px;"><h3>Most Played Agent:</h3></td>
                <td colspan="2"><h3>Most Played Role:</h3></td>
            </tr>
            <tr style="padding-top:2px; margin-top:0px;">
                <td colspan="2" style="padding-left:20px;">@Model.player.Fav_agent <div style="position: absolute; top: 320px; left: 260px;">
                    <img src="~/Images/@(Model.player.Fav_agent)_icon.png" alt="not found" width="60px" /></div></td>
                <td colspan="2">@Model.fav_agent_role</td>
               
            </tr>
        </TABLE>
    </div>
    <div id="map">
        <h1 style="padding-left:20px;margin-top:12px;"><img src="~/Images/location.png" alt="not found" height="22px" />     Top Maps</h1>
        <table width="300px" style="text-align:center;">
            <tr>
                <td>
                    Breeze
                </td>
                <td>@Model.top_maps["Breeze"].Item1 W - @Model.top_maps["Breeze"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Ascent
                </td>
                <td>@Model.top_maps["Ascent"].Item1 W - @Model.top_maps["Ascent"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Fracture
                </td>
                <td>@Model.top_maps["Fracture"].Item1 W - @Model.top_maps["Fracture"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Haven
                </td>
                <td>@Model.top_maps["Haven"].Item1 W - @Model.top_maps["Haven"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Icebox
                </td>
                <td>@Model.top_maps["Icebox"].Item1 W - @Model.top_maps["Icebox"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Lotus
                </td>
                <td>@Model.top_maps["Lotus"].Item1 W - @Model.top_maps["Lotus"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Pearl
                </td>
                <td>@Model.top_maps["Pearl"].Item1 W - @Model.top_maps["Pearl"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Split
                </td>
                <td>@Model.top_maps["Split"].Item1 W - @Model.top_maps["Split"].Item2 L</td>
            </tr>
            <tr>
                <td>
                    Sunset
                </td>
                <td>@Model.top_maps["Sunset"].Item1 W - @Model.top_maps["Sunset"].Item2 L</td>
            </tr>
        </table>
    </div>
    <div id="logo">
        <img src="~/Images/valo.jpg" alt="not found" width="300" />
    </div>
</body>
</html>