@model Weaponary
@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weapons Display</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <style>
        body {
            margin: 0px;
            padding: 0px;
            background-color: black;
            color: white;
        }

        .navbar {
            background-color: #9a413a;
            display: flex;
            justify-content: space-between;
            border-radius: 35px;
            color: white;
            width: 100%;
            padding: 0px;
            z-index: 1;
        }

            .navbar p {
                margin: 25px 0px 20px 20px;
            }

            .navbar .items {
                background-color: #9a413a;
                width: 1100px;
                margin-right: 30px;
                display: inline-block;
            }

                .navbar .items ul {
                    display: flex;
                    justify-content: space-between;
                    list-style-type: none;
                }


                .navbar .items li a {
                    text-decoration: none;
                    color: white;
                    display: inline-block;
                    text-align: center;
                    padding: 10px 14px;
                }

                .navbar .items .dropdown-content {
                    display: none;
                    position: absolute;
                    background: rgb(58, 57, 57);
                    min-width: 110px;
                    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);
                    z-index: 1;
                }

                .navbar .items li a:hover,
                .dropdown:hover,
                .dropdown-content a:hover {
                    background-color: #870505;
                }

                .navbar .items .dropdown-content a {
                    color: white;
                    padding: 12px 14px;
                    text-decoration: none;
                    display: block;
                    text-align: left;
                }

                    .navbar .items .dropdown-content a:hover {
                        background: rgb(136, 20, 20);
                    }

                .navbar .items .dropdown:hover .dropdown-content {
                    display: block;
                }

                .navbar .items .dropdown {
                    display: inline-block;
                }
        .container {
            display: flex;
            flex-direction: row;
            margin: 50px 50px 0px 100px;
            width: 1300px;
            height: auto;
            font-size: 17px;
            background-color: #36454F;
            border: 1px solid rgb(169, 159, 159);
            box-shadow: 0 0 0 1px rgb(148, 32, 53);
            border-radius: 8px;
            margin-bottom: 50px;
            padding-bottom: 5px;
        }

        .insights-container {
            width: 40%;
            min-width: 400px;
            background-color: #2c373e;
            height: 100%;
            padding: 20px 0px;
            padding-left: 60px;

        }

        .images-container {
            width: 60%;
            overflow:hidden;
        }
        .item {
            display: flex;
            flex-direction: row;
            flex-wrap: wrap;
            margin-top: 10px;
            width: 200px;
            border: 1px solid #5f7786;
            width: 80%;
            padding-left: 20px;
            border-radius: 20px;
        }

            .item .title {
                min-width: 120px;
            }

            .item .value {
                float: left;
                align-content: left;
            }

        .images {
            display: flex;
            width: 800px;
            height: auto;
            margin-top: 30px;
            

        }

            .images img {
                width: 100%;
                height: 100%;
            }

        #prevbtn{
            position: absolute;
            top: 58%;
            z-index: 10;
            left: 43%;
            font-size: 40px;
            color: white;
            cursor: pointer;

            
        }

        #nextbtn {
            position: absolute;
            top: 58%;
            z-index: 10;
            right: 8%;
            font-size: 40px;
            color: white;
            cursor: pointer;
        }
        .images-container{
            text-align: center;
        }
        
    </style>
</head>

<body>
    <div id="partialContainer">
        <header>
            <nav class="navbar">
                <p>Valorant Datahub</p>
                <div class="items">
                    <ul>
                        <li><a href="/Homepage/Index?Username=@Model.user.Username">Home</a></li>
                        <li><a href="/Weapon/Index?Username=@Model.user.Username">Weapons</a></li>
                        <li><a href="/Leaderboard/Index?Username=@Model.user.Username">Leaderboards</a></li>
                        <li><a href="/Agent/Index?Username=@Model.user.Username">Agents</a></li>
                        <li><a href="/Map/Index?Username=@Model.user.Username">Maps</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropbtn">Current rotation</a>
                            <div class="dropdown-content">
                                <a href="/MapDisplay/Index?option=ascent&Username=@Model.user.Username">Ascent</a>
                                <a href="/MapDisplay/Index?option=bind&Username=@Model.user.Username">Bind</a>
                                <a href="/MapDisplay/Index?option=Breeze&Username=@Model.user.Username">Breeze</a>
                                <a href="/MapDisplay/Index?option=Icebox&Username=@Model.user.Username">Icebox</a>
                                <a href="/MapDisplay/Index?option=Lotus&Username=@Model.user.Username">Lotus</a>
                                <a href="/MapDisplay/Index?option=Split&Username=@Model.user.Username">Split</a>
                                <a href="/MapDisplay/Index?option=Sunset&Username=@Model.user.Username">Sunset</a>
                            </div>
                        </li>
                        <li class="dropdown">
                            <a class="dropbtn" id="dropbtn" style="padding-right: 4	0px;">Guest Mode</a>
                            <div class="dropdown-content">
                                <a href="/Homepage/Index">Logout</a>
                            </div>
                        </li>
                    </ul>
                </div>
            </nav>
        </header>
    </div>
    <div class="container">
        <div class="insights-container">
            
            <h2>Insights</h2>
            <div class="item">
                <div class="title">
                    <p>Name: </p>
                </div>
                <div class="value">
                    <p id="name">@Model.Weapon_Name</p>
                </div>
            </div>
            <div class="item">
                <div class="title">
                    <p>Category: </p>
                </div>
                <div class="value">
                    <p id="category">@Model.Weapon_Type</p>
                </div>
            </div>
            <div class="item">
                <div class="title">
                    <p>Capacity: </p>
                </div>
                <div class="value">
                    <p id="capacity">@Model.Capacity</p>
                </div>
            </div>
            <div class="item">
                <div class="title">
                <p>Damage: </p>
                </div>
                <div class="value">
                <p id="damage">@Model.Damage</p>
                </div>
            </div>
            <div class="item">
                <div class="title">
                <p>Fire rate: </p>
                </div>
                <div class="value">
                <p id="rate">@Model.Fire_Rate</p>
                </div>
            </div>
            <div class="item">
                <div class="title">
                <p>Reload speed: </p>
                </div>
                <div class="value">
                <p id="speed">@Model.Reload_Speed</p>
                </div>
            </div>
            <div class="item">
                <div class="title">
                <p>Mode: </p>
                </div>
                <div class="value">
                <p id="mode">@Model.Fire_Mode</p>
                </div>
            </div>
            <div class="item">
                <div class="title">
                <p>Range: </p>
                </div>
                <div class="value">
                <p id="range">@Model.Max_Range</p>
                </div>
            </div>
        
        </div>
        
        <div class="images-container">
            <h2>Popular @Model.Weapon_Name skins</h2>
            <i class='bx bx-right-arrow-alt' id="nextbtn"></i>
            <i class='bx bx-left-arrow-alt' id="prevbtn"></i>
            <div class="images">
                <img src="~/Images/@(Model.Weapon_Name)8.jpg" id="lastClone" />
                <img src="~/Images/@(Model.Weapon_Name)4.jpg" />
                <img src="~/Images/@(Model.Weapon_Name)5.jpg" />
                <img src="~/Images/@(Model.Weapon_Name)6.jpg" />
                <img src="~/Images/@(Model.Weapon_Name)7.jpg" />
                <img src="~/Images/@(Model.Weapon_Name)8.jpg" />
                <img src="~/Images/@(Model.Weapon_Name)4.jpg" id="firstClone" />
                
            </div>
                
        </div>
    </div>
    <script>
        let counter = 1;
        var images_container = document.querySelector(".images");
        var images = document.querySelectorAll(".images img");
        var prevbtn = document.querySelector("#prevbtn");
        var nextbtn = document.querySelector("#nextbtn");
        const size = images[0].clientWidth;

        images_container.style.transform = 'translateX(' + (-size * counter) + 'px';

        nextbtn.addEventListener('click', function () {
            if (counter >= images.length -1) return;
            images_container.style.transition = "transform 0.4s ease-in-out";
            counter++;
            images_container.style.transform = 'translateX(' + (-size * counter) + 'px';
            console.log(counter);
        });
        prevbtn.addEventListener('click', function () {
            if (counter <= 0) return;
            images_container.style.transition = "transform 0.4s ease-in-out";
            counter--;
            images_container.style.transform = 'translateX(' + (-size * counter) + 'px';
            console.log(counter);
        });
        images_container.addEventListener('transitionend', () => {
            if (images[counter].id === "lastClone"){
                images_container.style.transition = 'none';
                counter = images.length -2;
                images_container.style.transform = 'translateX(' + (-size * counter) + 'px';
            }
            if (images[counter].id === "firstClone") {
                images_container.style.transition = 'none';
                counter = images.length - counter;
                images_container.style.transform = 'translateX(' + (-size * counter) + 'px';
            }
        });
        $(document).ready(function () {

            var username = '@Model.user.Username';
            console.log(username);
            var dropbtnElement = $('#dropbtn');
            dropbtnElement.text(username);

        });
    </script>
</body>

</html>